#############################################################################
# Makefile for building: qtrootexample
# Generated by qmake (1.07a) (Qt 3.3.5) on: Tue Jan 31 08:02:20 2006
# Project:  qtrootexample.pro
# Template: app
# Command: $(QMAKE) -o Makefile.qt qtrootexample.pro
#############################################################################

####### Compiler, tools and options

CC          = cl
CXX         = cl
LEX         = flex
YACC        = byacc
#CFLAGS      = -nologo -Zm200 -W3 -MDd -Zi -Gm  -DUNICODE -DWIN32 -DQT_DLL -DQT_THREAD_SUPPORT
#CXXFLAGS    = -nologo -Zm200 -W3 -w34100 -w34189 -EHsc -MDd -GR -Zi -Gm -DUNICODE -DWIN32 -DQT_DLL -DQT_THREAD_SUPPORT \
#              -G5 -GR -GX -DWIN32 -D_WINDOWS -nologo -DVISUAL_CPLUSPLUS -D_CRT_SECURE_NO_DEPRECATE -D_X86_=1
INCPATH     = -I"$(ROOTSYS)\include" -I"$(QTDIR)\include" -I"."
LINK        = link
#LFLAGS      = /NOLOGO /DEBUG /LIBPATH:"$(QTDIR)\lib"

!IFNDEF DEBUG
# Full optimization:
OPTIMIZE = -Ox -MD
!ELSE
# Debugging:
OPTIMIZE = -Zi -MDd
LINKDEBUG = /debug
!ENDIF

CFLAGS = -GR $(OPTIMIZE) -W3 -nologo $(NMCXXFLAGS) -DQT_DLL -DQT_THREAD_SUPPORT
CXXFLAGS = -GR $(OPTIMIZE) -W3 -nologo $(NMCXXFLAGS) -D_CRT_SECURE_NO_DEPRECATE -DQT_THREAD_SUPPORT
LFLAGS = /nologo /machine:ix86 $(LINKDEBUG)


LIBS        = "$(GSIQTLIB)" "$(ROOTSYS)\lib\libqtgsi.lib" "$(ROOTSYS)\lib\libCore.lib" "$(ROOTSYS)\lib\libCint.lib" "$(ROOTSYS)\lib\libHist.lib" "$(ROOTSYS)\lib\libGraf.lib" "$(ROOTSYS)\lib\libGraf3d.lib" "$(ROOTSYS)\lib\libGpad.lib" "$(ROOTSYS)\lib\libTree.lib" "$(ROOTSYS)\lib\libRint.lib" "$(ROOTSYS)\lib\libPostscript.lib"
MOC         = $(QTDIR)\bin\moc.exe
UIC         = $(QTDIR)\bin\uic.exe
QMAKE       = qmake
IDC         = $(QTDIR)\bin\idc.exe
IDL         = midl
ZIP         = zip -r -9
COPY_FILE   = copy
COPY_DIR    = copy
DEL_FILE    = del
DEL_DIR     = rmdir
MOVE        = move
CHK_DIR_EXISTS = if not exist
MKDIR          = mkdir
INSTALL_FILE   = $(COPY_FILE)
INSTALL_DIR    = $(COPY_DIR)

####### Files

HEADERS  =   
SOURCES  = main.cpp
OBJECTS  = main.obj qtrootexample1.obj qmake_image_collection.obj
FORMS    = qtrootexample1.ui
UICDECLS = qtrootexample1.h
UICIMPLS = qtrootexample1.cpp
SRCMOC   = moc_qtrootexample1.cpp
OBJMOC   = moc_qtrootexample1.obj
TARGET   = qtrootexample.exe

####### Implicit rules

.SUFFIXES: .c .cpp .cc .cxx .C

{.}.cpp{}.obj::
    $(CXX) -c $(CXXFLAGS) $(INCPATH) -Fo @<<
    $<
<<

{.}.cc{}.obj::
    $(CXX) -c $(CXXFLAGS) $(INCPATH) -Fo @<<
    $<
<<

{.}.cxx{}.obj::
    $(CXX) -c $(CXXFLAGS) $(INCPATH) -Fo @<<
    $<
<<

{.}.C{}.obj::
    $(CXX) -c $(CXXFLAGS) $(INCPATH) -Fo @<<
    $<
<<

{.}.c{}.obj::
    $(CC) -c $(CFLAGS) $(INCPATH) -Fo @<<
    $<
<<

####### Build rules

all: $(TARGET)

$(TARGET):  $(UICDECLS) $(OBJECTS) $(OBJMOC) 
    $(LINK) $(LFLAGS) /OUT:$(TARGET) @<< 
      $(OBJECTS) $(OBJMOC) $(LIBS)
<<


mocables: $(SRCMOC)
uicables: $(UICIMPLS) $(UICDECLS)

dist:
    $(ZIP) qtrootexample.zip $(SOURCES) $(HEADERS) $(DIST) $(FORMS) $(QTROOTDIR)/examples/example2/qtrootexample.pro $(QTDIR)/lib/qtmain.prl qtrootexample1.ui.h  images/qtroot_canvas.png images/h1_t.png images/h2_t.png

uiclean:
    -$(DEL_FILE) qtrootexample1.h
    -$(DEL_FILE) qtrootexample1.cpp
mocclean:
    -$(DEL_FILE) moc_qtrootexample1.cpp
    -$(DEL_FILE) moc_qtrootexample1.obj
clean: uiclean mocclean
    -$(DEL_FILE) main.obj
    -$(DEL_FILE) qtrootexample1.obj
    -$(DEL_FILE) qmake_image_collection.obj
    -$(DEL_FILE) qtrootexample.pdb
    -$(DEL_FILE) qtrootexample.ilk
    -$(DEL_FILE) vc*.pdb
    -$(DEL_FILE) vc*.idb

    -$(DEL_FILE) qmake_image_collection.cpp

FORCE:

distclean: clean
    -$(DEL_FILE) $(TARGET)

####### Compile

main.obj: main.cpp qtrootexample1.h \

qtrootexample1.h: qtrootexample1.ui 
        $(UIC) qtrootexample1.ui -o qtrootexample1.h

qtrootexample1.cpp: qtrootexample1.h qtrootexample1.ui qtrootexample1.ui.h 
        $(UIC) qtrootexample1.ui -i qtrootexample1.h -o qtrootexample1.cpp

qtrootexample1.obj: qtrootexample1.cpp qtrootexample1.ui.h \
        qtrootexample1.h

moc_qtrootexample1.obj: moc_qtrootexample1.cpp  qtrootexample1.h 

moc_qtrootexample1.cpp: $(MOC) qtrootexample1.h
    $(MOC) qtrootexample1.h -o moc_qtrootexample1.cpp

qmake_image_collection.obj: qmake_image_collection.cpp

qmake_image_collection.cpp: images\qtroot_canvas.png \
        images\h1_t.png \
        images\h2_t.png
        $(UIC) -embed qtrootexample images\qtroot_canvas.png images\h1_t.png images\h2_t.png -o qmake_image_collection.cpp

####### Install

install:  

uninstall:  

